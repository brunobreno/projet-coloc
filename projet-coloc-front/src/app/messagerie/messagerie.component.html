<div class="page-main-container">
    <div class="row">
        <div class="col-1"></div>
        <h3 class="col" style="margin-top: 30px;margin-bottom: 30px;">Mes messages</h3>
    </div>
    <div class="row">
        <div class="col-1"></div>
        <div class="col-2 my-2 cadre-relations" id="conversations">
            <!-- faire un ngFor qui requete sur les emetteur/destinataire distinct des messages reçus-->
            <div class="row my-2">
                <h5 class="my-4 text-center">Mes contacts</h5>
            </div>
            <div *ngFor="let r of relations">
                <div class="row my-2 mx-1 cadre-contact" (click)="findConversation(r.id)">
                    <p class="row mt-3 text-center">{{r?.prenom}} {{r?.nom}}</p>
                </div>
            </div>
        </div>
        <div class="col-1"></div>
        <div class="col-7 cadre-messages " id="messages">
            <div class="overflow-auto ">
            <ng-container class="row cadre-message" *ngFor="let m of afficherMessages()">
               
                    <div class=" w-100 row" *ngIf="m.emetteur.id != utilisateurConnecte.id">
                        <div class="col-6 my-2 mx-3 message cadre-message-emetteur">
                            <span class="contenu-message">{{m.contenu}}</span>
                            <span class="time-envoi">Reçu le : {{m.date | date:'dd/MM/yyyy, HH:mm:ss'}}</span>
                        </div>
                    </div>
                    <div class="row w-100" *ngIf="m.emetteur.id == utilisateurConnecte.id">
                        <div class="col"></div>
                        <div class="col-6 my-2 mx-3 message cadre-message-destinataire">
                            <span class="contenu-message">{{m.contenu}}</span>
                            <span  class="time-envoi">Envoyé le : {{m.date | date:'dd/MM/yyyy, HH:mm:ss'}}</span>
                        </div>
                    </div>
                
                
            </ng-container>
        </div>
            <!--<hr-->
            <div>
                <div class="row cadre-saisie mt-2" id="saisie-message">
                    <textarea class="form-control overflow-auto" id="messageContenu" rows="5" [(ngModel)]="messageForm.contenu"
                    placeholder="Saisissez votre message" ></textarea>
                    <div class="d-flex justify-content-end" style="width: 96%;">
                        <!-- <label for="messageContenu">Ecrire un nouveau message: </label> -->
                        <button *ngIf="destinataireTypeDeCompte == 'proprietaire'"  type="button" id="boutonLogement" class="btn mb-3" style="margin-right: 450px;" [routerLink]="['/logements-proprietaire/',destinataireId]" >Voir les logements</button>
                         <button type="button" id="boutonEnvoyer" class="btn mb-3" (click)="envoyerMessage()">Envoyer</button>
                        
                    </div>
                </div>
            </div>
 
        </div>
        <div class="col-1"></div>
    </div>
   <!--<div style="height:200px"></div>--> 
</div>